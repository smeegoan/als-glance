function setNumClasses(n){numClasses=n;showSchemes()}function setSchemeType(n){selectedSchemeType=n;$("#num-classes option").removeAttr("disabled");switch(selectedSchemeType){case"sequential":$("#num-classes").val()>=10&&($("#num-classes").val(9),numClasses=9);$("#num-classes option[name=10], #num-classes option[name=11], #num-classes option[name=12]").attr("disabled","disabled");break;case"diverging":$("#num-classes").val()>=12&&($("#num-classes").val(11),numClasses=11);$("#num-classes option[name=12]").attr("disabled","disabled")}showSchemes()}function showSchemes(){var t,r,i,n;$("#ramps").empty();for(t in schemeNames[selectedSchemeType])if(checkFilters(schemeNames[selectedSchemeType][t])!=!1){for(r=$("<div class='ramp "+schemeNames[selectedSchemeType][t]+"'><\/div>"),i="<svg width='15' height='75'>",n=0;n<5;n++)i+="<rect fill="+colorbrewer[schemeNames[selectedSchemeType][t]][5][n]+" width='15' height='15' y='"+n*15+"'/>";i+="<\/svg>";$("#ramps").append(r.append(i).click(function(){$(this).hasClass("selected")||setScheme($(this).attr("class").substr(5))}))}if(selectedSchemeType=="sequential"){$("#scheme1").css("width","160px");$("#multi").show().text("Multi-hue");$("#scheme2").css("width","90px");$("#single").show().text("Single hue");$("#singlehue").empty().css("display","inline-block");for(t in schemeNames.singlehue)if(checkFilters(schemeNames.singlehue[t])!=!1){for(r=$("<div class='ramp "+schemeNames.singlehue[t]+"'><\/div>"),i="<svg width='15' height='75'>",n=0;n<5;n++)i+="<rect fill="+colorbrewer[schemeNames.singlehue[t]][5][n]+" width='15' height='15' y='"+n*15+"'/>";i+="<\/svg>";$("#singlehue").append(r.append(i).click(function(){$(this).hasClass("selected")||setScheme($(this).attr("class").substr(5))}))}}else $("#scheme1").css("width","100%"),$("#multi").hide(),$("#singlehue").empty(),$("#single").hide();$(".score-icon").show();$("#color-system").show();$(".ramp."+selectedScheme)[0]?setScheme(selectedScheme):$("#ramps").children().length?setScheme($("#ramps .ramp:first-child").attr("class").substr(5)):clearSchemes()}function clearSchemes(){$("#counties g path").css("fill","#ccc");$("#color-chips").empty();$("#color-values").empty();$("#ramps").css("width","100%");$("#scheme-name").html("");$(".score-icon").hide();$("#color-system").hide();$("#ramps").append("<p>No color schemes match these criteria.<\/p><p>Please choose fewer data classes, a different data type, and/or fewer filtering options.<\/p>")}function setScheme(n){function f(n){return n?n==1?"":n==2?"possibly not ":void 0:"not "}var r,u,i,t;for($(".ramp.selected").removeClass("selected"),selectedScheme=n,$(".ramp."+selectedScheme).addClass("selected"),$("#scheme-name").html(numClasses+"-class "+selectedScheme),applyColors(),drawColorChips(),r="[",i=0;i<numClasses;i++)r+="'"+colorbrewer[selectedScheme][numClasses][i]+"'",i<numClasses-1&&(r+=",");for(r+="]",$("#copy-json input").val(r),u="",i=0;i<numClasses;i++)u+="."+selectedScheme+" .q"+i+"-"+numClasses+"{fill:"+colorbrewer[selectedScheme][numClasses][i]+"}",i<numClasses-1&&(u+=" ");$("#copy-css input").val(u);$(".score-icon").attr("class","score-icon");t=checkColorblind(n);$("#blind-icon").addClass(t?t==1?"ok":"maybe":"bad").attr("title",numClasses+"-class "+selectedScheme+" is "+f(t)+"color blind friendly");t=1;$("#copy-icon").addClass(t?t==1?"ok":"maybe":"bad").attr("title",numClasses+"-class "+selectedScheme+" is "+f(t)+"photocopy friendly");t=checkScreen(n);$("#screen-icon").addClass(t?t==1?"ok":"maybe":"bad").attr("title",numClasses+"-class "+selectedScheme+" is "+f(t)+"LCD friendly");t=checkPrint(n);$("#print-icon").addClass(t?t==1?"ok":"maybe":"bad").attr("title",numClasses+"-class "+selectedScheme+" is "+f(t)+"print friendly")}function checkFilters(n){return colorbrewer[n][numClasses]?checkColorblind(n)!=1?!1:!0:!1}function checkColorblind(n){return colorbrewer[n].properties.blind.length>1?colorbrewer[n].properties.blind[numClasses-3]:colorbrewer[n].properties.blind[0]}function checkPrint(n){return colorbrewer[n].properties.print.length>1?colorbrewer[n].properties.print[numClasses-3]:colorbrewer[n].properties.print[0]}function checkScreen(n){return colorbrewer[n].properties.screen.length>1?colorbrewer[n].properties.screen[numClasses-3]:colorbrewer[n].properties.screen[0]}function drawColorChips(){for(var t="<svg width='24' height='270'>",n=0;n<numClasses;n++)t+="<rect fill="+colorbrewer[selectedScheme][numClasses][n]+" width='24' height='"+Math.min(24,parseInt(265/numClasses))+"' y='"+n*Math.min(24,parseInt(265/numClasses))+"'/>";$("#color-chips").empty().append(t)}function getColorDisplay(n,t){var u,i,r;return(n.indexOf("#")!=0&&(u=n.replace(/[a-z()\s]/g,"").split(","),i={r:u[0],g:u[1],b:u[2]}),t=t||$("#color-system").val().toLowerCase(),t=="hex")?i?rgbToHex(i.r,i.g,i.b):n:t=="rgb"?(i||(i=hexToRgb(n)),i.r+","+i.g+","+i.b):t=="cmyk"?(i||(i=hexToRgb(n)),r=rgb2cmyk(i.r,i.g,i.b),r[0]+","+r[1]+","+r[2]+","+r[3]):void 0}function getCMYK(n,t,i){return cmyk[n][t][i].toString()}function rgb2cmyk(n,t,i){var u=0,f=0,e=0,o=0,r;return n==0&&t==0&&i==0?(o=1,[0,0,0,100]):(u=1-n/255,f=1-t/255,e=1-i/255,r=Math.min(u,Math.min(f,e)),u=(u-r)/(1-r),f=(f-r)/(1-r),e=(e-r)/(1-r),o=r,[Math.round(u*100),Math.round(f*100),Math.round(e*100),Math.round(o*100)])}function rgbToHex(n,t,i){return"#"+(16777216|n<<16|t<<8|i).toString(16).slice(1)}function hexToRgb(n){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function initColors(n){$("#colorPlaceHolder").replaceWith(' <li class="dropdown">   <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Color Schemes <span class="caret"><\/span><\/a>    <ul class="dropdown-menu" role="menu">        <li>            <div class="container" style="max-width: 300px">                <div id="scheme" class="form-group">                    <div id="scheme1">                        <label id="multi"><\/label>                        <div id="ramps"><\/div>                    <\/div> <!--end scheme1 div-->                    <div id="scheme2">                        <label id="single"><\/label>                        <div id="singlehue"><\/div>                    <\/div> <!--end scheme2 div-->                <\/div> <!--end scheme div-->            <\/div>        <\/li>    <\/ul><\/li>');var i=n||"BuGn",t=5;$("#num-classes").val(t);setSchemeType("sequential");setNumClasses(t);setScheme(i);showSchemes()}function applyColors(){var n;if(colorbrewer[selectedScheme][numClasses]){n=colorbrewer[selectedScheme][numClasses].slice(0);n.shift();var i=d3.scale.ordinal().range([colorbrewer[selectedScheme][numClasses][1],colorbrewer[selectedScheme][numClasses][3]]),r=d3.scale.ordinal().range(n),t=colorbrewer[selectedScheme][numClasses][2],u=colorbrewer[selectedScheme][numClasses][3];timeOfDayChart.ordinalColors(n).redraw();timeHourChart.colors(t).redraw();quarterChart.colors(r).redraw();predictionSeriesChart.colors(i).redraw();dateRangeChart.colors(t).redraw();emgChart!=null&&emgChart.updateOptions({colors:[u]})}}var schemeNames={sequential:["BuGn","BuPu","GnBu","OrRd","PuBu","PuBuGn","PuRd","RdPu","YlGn","YlGnBu","YlOrBr","YlOrRd"],singlehue:["Blues","Greens","Greys","Oranges","Purples","Reds"],diverging:["BrBG","PiYG","PRGn","PuOr","RdBu","RdGy","RdYlBu","RdYlGn","Spectral"],qualitative:["Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3"]},visibleMap,selectedScheme=selectedScheme||"BuGn",numClasses=7,selectedSchemeType;
//# sourceMappingURL=colorbrewer.min.js.map
